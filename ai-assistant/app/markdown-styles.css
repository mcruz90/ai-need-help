@tailwind base;
@tailwind components;
@tailwind utilities;

.markdown-content {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  margin-left: 0.5rem;
  color: #96A7AF;
  font-size: 0.875rem;

  h1 {
    font-size: 1.25rem;
  }

  h2 {
    font-size: 1.125rem;
  }

  h3 {
    font-size: 1rem;
  }

  p, li {
  font-size: 1rem; /* text-sm */
  }

  table {
    @apply w-full border-collapse border border-gray-300 my-4;
  }

  th, td {
    @apply border border-gray-300 px-4 py-2 text-sm;
  }

  thead {
    @apply bg-gray-100;
  }

  tbody tr:nth-child(even) {
    @apply bg-gray-50;
  }

  tbody tr:hover {
    @apply bg-gray-100;
  }

  pre {
    white-space: pre-wrap; /* Preserves line breaks */
    word-wrap: break-word; /* Allows long lines to break */
    background-color: #fff; /* Background color for code blocks */
    padding: 1em; /* Padding for better readability */
    border-radius: 10px; /* Rounded corners */
    width: auto;
  }

  code {
    font-family: 'Courier New', Courier, monospace;
  }

  /* Ensure superscripts are styled correctly */
  sup {
    @apply text-sm;
  }

  /* Customize blockquotes if not handled in ReactMarkdown component */
  blockquote {
    @apply border-l-4 border-gray-300 pl-4 italic;
  }
}

/* LaTeX styles */
.katex-container {
  max-width: 100%;
  padding: 0.5em 0;
  overflow: hidden; /* Hide all overflow */
}

.katex-display {
  display: block;
  margin: 1em 0;
  text-align: center;
  overflow: hidden; /* Hide all overflow */
}

.katex-inline {
  display: inline-block;
  padding: 0 0.2em;
  max-width: 100%;
  overflow: hidden; /* Hide all overflow */
}

/* Ensure matrices render correctly without horizontal scroll */
.katex-html {
  max-width: 100%;
  overflow: hidden; /* Hide all overflow */
}

.katex .mathnormal {
  font-style: normal;
  overflow: hidden; /* Hide all overflow */
}

/* Improve matrix rendering */
.katex .mord.mtable {
  max-width: 100%;
  overflow: hidden; /* Hide all overflow */
}

.katex .mord.mtable .mtr {
  display: flex;
  flex-wrap: wrap; /* Allow wrapping for very wide matrices */
}

.katex .mord.mtable .mtd {
  display: inline-block;
  padding: 0.2em;
  text-align: center;
  flex: 1 0 auto; /* Allow cells to grow and shrink */
}

/* Ensure line breaks are preserved in block LaTeX */
.katex-display .katex-html {
  white-space: normal; /* Allow text to wrap */
  word-break: break-word; /* Break words if necessary */
}

/* Additional styles to handle very long equations */
.katex-display .base {
  max-width: 100%;
  overflow-x: hidden; /* Allow horizontal scroll for extremely long single-line equations */
  overflow-y: hidden;
  padding-bottom: 5px; /* Add some padding to ensure scrollbar doesn't cover content */
}

/* Hide scrollbar for WebKit browsers */
.katex-display .base::-webkit-scrollbar {
  height: 3px;
}

.katex-display .base::-webkit-scrollbar-thumb {
  background-color: #888;
}

/* For Firefox */
.katex-display .base {
  scrollbar-width: thin;
  scrollbar-color: #888 transparent;
}
